
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["8215 8220 1", "8220 8225 2", "8225 8230 3", "8230 8235 4", "8235 8240 5", "8240 8245 6", "8245 8250 7", "8250 8255 8", "8255 8260 9", "8260 8265 10", "8265 8270 11", "8270 8275 12", "8275 8280 13", "8280 8285 14", "8285 8290 15", "8290 8295 16", "8295 8300 17", "8300 8305 18", "8305 8310 19", "8310 8315 20", "8315 8320 21", "8320 8325 22", "8325 8330 23", "8330 8335 24", "8335 8340 25", "8340 8345 26", "8345 8350 27", "8350 8355 28", "8355 8360 29", "8360 8365 30", "8365 8370 31", "8370 8375 32", "8375 8380 33", "8380 8385 34", "8385 8390 35", "8390 8395 36", "8395 8400 37", "8400 8405 38", "8405 8410 39", "8410 8415 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
