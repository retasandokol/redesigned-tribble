
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["200 205 1", "200 205 2", "205 210 3", "205 210 4", "210 215 5", "210 215 6", "215 220 7", "215 220 8", "220 225 9", "220 225 10", "225 230 11", "225 230 12", "230 235 13", "230 235 14", "235 240 15", "235 240 16", "240 245 17", "240 245 18", "245 250 19", "245 250 20", "250 255 21", "250 255 22", "255 260 23", "255 260 24", "260 265 25", "260 265 26", "265 270 27", "265 270 28", "270 275 29", "270 275 30", "275 280 31", "275 280 32", "280 285 33", "280 285 34", "285 290 35", "285 290 36", "290 295 37", "290 295 38", "295 300 39", "295 300 40", "300 305 41", "300 305 42", "305 310 43", "305 310 44", "310 315 45", "310 315 46", "315 320 47", "315 320 48", "320 325 49", "320 325 50", "325 330 51", "325 330 52", "330 335 53", "330 335 54", "335 340 55", "335 340 56", "340 345 57", "340 345 58", "345 350 59", "345 350 60", "350 355 61", "350 355 62", "355 360 63", "355 360 64", "360 365 65", "360 365 66", "365 370 67", "365 370 68", "370 375 69", "370 375 70", "375 380 71", "375 380 72", "380 385 73", "380 385 74", "385 390 75", "385 390 76", "390 395 77", "390 395 78", "395 400 79", "395 400 80"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
