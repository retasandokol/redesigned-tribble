
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["800 805 1", "805 810 2", "810 815 3", "815 820 4", "820 825 5", "825 830 6", "830 835 7", "835 840 8", "840 845 9", "845 850 10", "850 855 11", "855 860 12", "860 865 13", "865 870 14", "870 875 15", "875 880 16", "880 885 17", "885 890 18", "890 895 19", "895 900 20", "900 905 21", "905 910 22", "910 915 23", "915 920 24", "920 925 25", "925 930 26", "930 935 27", "935 940 28", "940 945 29", "945 950 30", "950 955 31", "955 960 32", "960 965 33", "965 970 34", "970 975 35", "975 980 36", "980 985 37", "985 990 38", "990 995 39", "995 1000 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
