
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["200 205 1", "205 210 2", "210 215 3", "215 220 4", "220 225 5", "225 230 6", "230 235 7", "235 240 8", "240 245 9", "245 250 10", "250 255 11", "255 260 12", "260 265 13", "265 270 14", "270 275 15", "275 280 16", "280 285 17", "285 290 18", "290 295 19", "295 300 20", "300 305 21", "305 310 22", "310 315 23", "315 320 24", "320 325 25", "325 330 26", "330 335 27", "335 340 28", "340 345 29", "345 350 30", "350 355 31", "355 360 32", "360 365 33", "365 370 34", "370 375 35", "375 380 36", "380 385 37", "385 390 38", "390 395 39", "395 400 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
