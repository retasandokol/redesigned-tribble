
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["8815 8820 1", "8820 8825 2", "8825 8830 3", "8830 8835 4", "8835 8840 5", "8840 8845 6", "8845 8850 7", "8850 8855 8", "8855 8860 9", "8860 8865 10", "8865 8870 11", "8870 8875 12", "8875 8880 13", "8880 8885 14", "8885 8890 15", "8890 8895 16", "8895 8900 17", "8900 8905 18", "8905 8910 19", "8910 8915 20", "8915 8920 21", "8920 8925 22", "8925 8930 23", "8930 8935 24", "8935 8940 25", "8940 8945 26", "8945 8950 27", "8950 8955 28", "8955 8960 29", "8960 8965 30", "8965 8970 31", "8970 8975 32", "8975 8980 33", "8980 8985 34", "8985 8990 35", "8990 8995 36", "8995 9000 37", "9000 9005 38", "9005 9010 39", "9010 9015 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
