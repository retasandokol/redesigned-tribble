
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["9015 9020 1", "9020 9025 2", "9025 9030 3", "9030 9035 4", "9035 9040 5", "9040 9045 6", "9045 9050 7", "9050 9055 8", "9055 9060 9", "9060 9065 10", "9065 9070 11", "9070 9075 12", "9075 9080 13", "9080 9085 14", "9085 9090 15", "9090 9095 16", "9095 9100 17", "9100 9105 18", "9105 9110 19", "9110 9115 20", "9115 9120 21", "9120 9125 22", "9125 9130 23", "9130 9135 24", "9135 9140 25", "9140 9145 26", "9145 9150 27", "9150 9155 28", "9155 9160 29", "9160 9165 30", "9165 9170 31", "9170 9175 32", "9175 9180 33", "9180 9185 34", "9185 9190 35", "9190 9195 36", "9195 9200 37", "9200 9205 38", "9205 9210 39", "9210 9215 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
