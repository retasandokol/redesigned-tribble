
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["9215 9220 1", "9220 9225 2", "9225 9230 3", "9230 9235 4", "9235 9240 5", "9240 9245 6", "9245 9250 7", "9250 9255 8", "9255 9260 9", "9260 9265 10", "9265 9270 11", "9270 9275 12", "9275 9280 13", "9280 9285 14", "9285 9290 15", "9290 9295 16", "9295 9300 17", "9300 9305 18", "9305 9310 19", "9310 9315 20", "9315 9320 21", "9320 9325 22", "9325 9330 23", "9330 9335 24", "9335 9340 25", "9340 9345 26", "9345 9350 27", "9350 9355 28", "9355 9360 29", "9360 9365 30", "9365 9370 31", "9370 9375 32", "9375 9380 33", "9380 9385 34", "9385 9390 35", "9390 9395 36", "9395 9400 37", "9400 9405 38", "9405 9410 39", "9410 9415 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
