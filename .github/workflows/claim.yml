
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["215 220 1", "220 225 2", "225 230 3", "230 235 4", "235 240 5", "240 245 6", "245 250 7", "250 255 8", "255 260 9", "260 265 10", "265 270 11", "270 275 12", "275 280 13", "280 285 14", "285 290 15", "290 295 16", "295 300 17", "300 305 18", "305 310 19", "310 315 20", "315 320 21", "320 325 22", "325 330 23", "330 335 24", "335 340 25", "340 345 26", "345 350 27", "350 355 28", "355 360 29", "360 365 30", "365 370 31", "370 375 32", "375 380 33", "380 385 34", "385 390 35", "390 395 36", "395 400 37", "400 405 38", "405 410 39", "410 415 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
