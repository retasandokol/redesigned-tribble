
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["600 605 1", "605 610 2", "610 615 3", "615 620 4", "620 625 5", "625 630 6", "630 635 7", "635 640 8", "640 645 9", "645 650 10", "650 655 11", "655 660 12", "660 665 13", "665 670 14", "670 675 15", "675 680 16", "680 685 17", "685 690 18", "690 695 19", "695 700 20", "700 705 21", "705 710 22", "710 715 23", "715 720 24", "720 725 25", "725 730 26", "730 735 27", "735 740 28", "740 745 29", "745 750 30", "750 755 31", "755 760 32", "760 765 33", "765 770 34", "770 775 35", "775 780 36", "780 785 37", "785 790 38", "790 795 39", "795 800 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
