
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["1000 1005 1", "1005 1010 2", "1010 1015 3", "1015 1020 4", "1020 1025 5", "1025 1030 6", "1030 1035 7", "1035 1040 8", "1040 1045 9", "1045 1050 10", "1050 1055 11", "1055 1060 12", "1060 1065 13", "1065 1070 14", "1070 1075 15", "1075 1080 16", "1080 1085 17", "1085 1090 18", "1090 1095 19", "1095 1100 20", "1100 1105 21", "1105 1110 22", "1110 1115 23", "1115 1120 24", "1120 1125 25", "1125 1130 26", "1130 1135 27", "1135 1140 28", "1140 1145 29", "1145 1150 30", "1150 1155 31", "1155 1160 32", "1160 1165 33", "1165 1170 34", "1170 1175 35", "1175 1180 36", "1180 1185 37", "1185 1190 38", "1190 1195 39", "1195 1200 40"]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      env:
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip wheel setuptools
        # pip install -r requirements.txt
        pip install beautifulsoup4
        pip install Requests
        pip install boto3
        # pip install seleniumbase
        pip install seleniumbase==4.27.0
        pip install web3
        pip install supabase
    - name: Install Chrome
      run: |
        sudo apt install google-chrome-stable
    - name: Install chromedriver
      run: |
        seleniumbase install chromedriver
    - name: Run Script
      run: |
        cd wkwk
        python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
